<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clicker Game</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            overflow: hidden; /* Prevents scrollbars from appearing */
        }
        .circle {
            height: 200px;
            width: 200px;
            border-radius: 50%;
            background-color: #a2fa7f;
            transition: transform 0.04s ease-in-out;
            cursor: pointer;
        }
        .clicks {
            position: absolute;
            top: 10px;
            left: 50%;
            font-size: 80px;
            font-family:'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
            transform: translateX(-50%);
        }
        .shop {
            top: 80%;
            font-size: 30px;
            position: absolute;
            right: 5%;
            color: white;
            background-color: #4CAF50;
            height: 50px;
            width: 100px;
            border-radius: 5px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            font-family: Arial, Helvetica, sans-serif;
            align-items: center;
            cursor: pointer;
        }
        .shop-container {
            position: absolute;
            right: -100%; /* Initially hidden to the right */
            width: 100%;
            top: 0;
            height: 100vh;
            background-color: lightgray; /* Change as needed */
            transition: right 0.5s ease-in-out; /* Smooth transition */
        }
        .back-button, .booster, .booster_2, .booster_3 {
           position: absolute;
           padding: 10px 20px; /* Adjust as needed */
           border-radius: 5px; /* Adjust as needed */
           border: none; /* Adjust as needed */
           background-color: #4CAF50; /* Adjust as needed */
           color: white; /* Adjust as needed */
           font-size: 20px; /* Adjust as needed */
           cursor:pointer; /* Changes the cursor when hovering over the button */
           max-width: 70%;
        }
        .back-button {
           top: 10px; /* Adjust as needed */
           left: 10px; /* Adjust as needed */
           display: none; /* Initially hidden */
           z-index: 100;
        }
        .booster, .booster_2, .booster_3 {
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            font-size: 4.3vw;
            transition: ease-in 0.1s;
            position: absolute; /* Use absolute positioning */
            left: 20vw; /* Align left edge with parent's left edge */
            right: 0; /* Align right edge with parent's right edge */
        }

        .booster {
            top: 27%;
        }

        .booster_2 {
            top: 37%;
        }

        .booster_3 {
            top: 47%;
        }


        @media (min-width: 701px) {
           .booster, .booster_2, .booster_3 {
            font-size: 25px;
            max-width: 50%;
            left: 27vw;
         }
         .moon {
            left: 27%;
         }
        }

        .message {
           position:absolute;
           top :70%; /* Adjust as needed */
           left :50%; /* Adjust as needed */
           transform :translate(-50%, -50%);
           color :red; /* Adjust as needed */
           font-size :20px; /* Adjust as needed */
           display :none; /* Initially hidden */
        }
        .title_shop {
            text-align: center;
            font-size: 50px;
            font-family: 'Courier New', Courier, monospace;
            font-weight: 1000;
        }
        input {
            background-color: transparent;
            border: none;
        }
        .clicks_Shop {
            left: 90%;
            position: absolute;
            top: 2%;
            font-size: 30px;
            font-family: Verdana, Geneva, Tahoma, sans-serif;
        }
        .sec_button {
            background-color: transparent !important;
            border: none !important;
        }
        #gear {
            font-size: 40px;
            color: #4CAF50;
            justify-content: left;
            align-items: left;
            display: flex;
            right: 87%;
            top: 80%;
            position: absolute;
            cursor: pointer;
            transition: ease-in-out 0.1s;
        }
        #settings_container {
            position: absolute;
            left: -100%; /* Initially hidden to the right */
            width: 100%;
            height: 100vh;
            background-color: lightgray; /* Change as needed */
            transition: 0.5s ease-in-out !important; /* Smooth transition */
            z-index: 50;
            top: 0;
        }
        #test {
            font-size: 200px;
            cursor: pointer;
            z-index: 1;
        }
        #arrow {
            font-size: 0px;
            position: absolute;
        }
        #shop_icon {
            color: #4CAF50;
            font-size: 40px;
        }
        .title_upgrades {
            font-size: 25px;
            justify-content: center;
            align-items: center;
            display: flex;
            margin-top: 90px;
            font-family: Verdana, Geneva, Tahoma, sans-serif;
        }
        /*#circle_click {
            font-size: 50px;
            position: absolute;
            z-index: 10000;
            color: rgba(199, 199, 199, 0.466);
            transition: ease-in-out 1.3s !important;
        }*/
        .settings_back {
           position: absolute;
           padding: 10px 20px; /* Adjust as needed */
           border-radius: 5px; /* Adjust as needed */
           border: none; /* Adjust as needed */
           background-color: #4CAF50; /* Adjust as needed */
           color: white; /* Adjust as needed */
           font-size: 20px; /* Adjust as needed */
           cursor:pointer; /* Changes the cursor when hovering over the button */
           max-width: 70%;
           top: 10px; /* Adjust as needed */
           left: 10px; /* Adjust as needed */
           z-index: 100;
        }
        .wantsave {
            font-size: 20px;
        }
        .title_settings
        {
            text-align: center;
            font-size: 40px;
            font-family: 'Courier New', Courier, monospace;
            font-weight: 1000;
        }
        .change_world
        {
            top: 60vh;
            text-align: center;
            position: absolute;
            left: 46vw;
            font-size: 30px;
        }
        .game {
            display: none;
        }
        .title {
            font-size: 50px;
            position: absolute;
            top: 30vh;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-weight: 700;
            color: rgb(0, 0, 0);
        }
        .play {
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            font-size: 4.3vw;
            transition: ease-in 0.1s;
            position: absolute; /* Use absolute positioning */
            position: absolute;
            padding: 20px 70px; /* Adjust as needed */
            border-radius: 5px; /* Adjust as needed */
            border: none; /* Adjust as needed */
            background-color: #4CAF50; /* Adjust as needed */
            color: white; /* Adjust as needed */
            font-size: 20px; /* Adjust as needed */
            cursor:pointer; /* Changes the cursor when hovering over the button */
            max-width: 70%;
            top: 40vh;
        }
        .settings_onplay {
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            font-size: 4.3vw;
            transition: ease-in 0.1s;
            position: absolute; /* Use absolute positioning */
            position: absolute;
            padding: 20px 30px; /* Adjust as needed */
            border-radius: 5px; /* Adjust as needed */
            border: none; /* Adjust as needed */
            background-color: #4CAF50; /* Adjust as needed */
            color: white; /* Adjust as needed */
            font-size: 20px; /* Adjust as needed */
            cursor:pointer; /* Changes the cursor when hovering over the button */
            max-width: 70%;
            top: 50vh;
        }
        .moon {
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            font-size: 4.3vw;
            height: 60px;
            width: 250px;
            transition: ease-in 0.1s;
            position: absolute; /* Use absolute positioning */
            border-radius: 5px; /* Adjust as needed */
            border: none; /* Adjust as needed */
            background-color: #4CAF50; /* Adjust as needed */
            color: white; /* Adjust as needed */
            font-size: 20px; /* Adjust as needed */
            cursor:pointer; /* Changes the cursor when hovering over the button */
            max-width: 70%;
            top: 67vh;
            left: 28%;
        }

    </style>
    <script src="https://kit.fontawesome.com/c68f917b3f.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>
        <div class="title" id="title">
            World Clicker
        </div>
        <button class="play" id="play">
            Play
        </button>
        <button class="settings_onplay" id="settings_button">
            Settings
        </button>

    <div class="game" id="game">
    <div class="clicks" id="clicks">0</div>
    <div class="circle" id="circle"><i  id="test" class="fa-solid fa-earth-americas"></i></div>
    <div class="shop" id="shop">
       Shop
    </div>
    <div class="settings" id="settings_2">
        <i id="gear"class="fa-solid fa-gear"></i>
     </div>
    <div class="settings_container" id="settings_container">
        <div class="settings_back" id="settings_back_button">Back</div>
        <div class="title_settings">
            Settings
        </div>
        <div class="wantsave">
            Do u want to save ur progress?
        </div>
    </div>
    <i id="arrow" class="fa-solid fa-arrow-pointer"></i>
    <div class="shop-container" id="shop-container">
        <div class="title_shop">
            Shop
        </div>
        <div class="clicks_Shop" id="clicks_shop">
            0
        </div>
        <input type="password" id="pwd">
        <button onclick="checkPassword()" class="sec_button"></button>
        <button class="back-button" id="back-button">Back</button> <!-- Back button -->
       <div class="title_upgrades">
         Upgrades
        </div>
        <button class="booster" id="booster">Buy Autoclicker (Costs 50 clicks)</button> <!-- Booster button -->
        <button class="booster_2" id="booster_2">Buy Better Autoclicker (Costs 500 clicks)</button> <!-- Booster button -->
        <button class="booster_3" id="booster_3">Buy Multiplier (2x) (Costs 5000 clicks)</button> <!-- Booster button -->
        <div class="change_world">
            Worlds
        </div>
        <button class="moon" id="moon">Moon 10x (50k clicks)</button>
        <div class="message" id="message">Not enough clicks!</div> <!-- Message -->
    </div>
    </div>
    <!--<i id="circle_click" class="fa-regular fa-circle"></i> WORKING IN PROGRESS-->

    <script>
        let clicks = 0; 
        let play = document.getElementById("play", playgame);
        let settings_back = document.getElementById('settings_back_button');
        let circleElement = document.getElementById('circle');
        let clicksElement = document.getElementById('clicks');
        let shopElement = document.getElementById('shop');
        let shopContainerElement = document.getElementById('shop-container');
        let backButtonElement = document.getElementById('back-button'); // Back button
        let boosterElement = document.getElementById('booster'); // Booster button
        let boosterElement_2 = document.getElementById('booster_2'); // Booster button
        let messageElement = document.getElementById('message'); // Message
        let boosters = 0;
        let clicks_shop = document.getElementById('clicks_shop');
        let Multiplier_element = document.getElementById('booster_3');
        let multiplier_active_2x = false;
        let multiplier_bought = 0;
        let settings = document.getElementById('gear');
        let settings_container = document.getElementById('settings_container');
        let settings_clicked = false;
        let arrow = document.getElementById('arrow');
        let autobuy = false;
        let circle_click = document.getElementById('circle_click');
        let game = document.getElementById('game');
        let settings_button = document.getElementById('settings_button');
        let title = document.getElementById('title');

        gear.addEventListener('click', settingsClicked);
        Multiplier_element.addEventListener('click', buyMultiplier);
        shopElement.addEventListener('click', shopClicked);
        backButtonElement.addEventListener('click', shopClicked); // Back button click event
        boosterElement.addEventListener('click', buyBooster); // Booster button click event
        boosterElement_2.addEventListener('click', buyBooster2);
        settings_back.addEventListener('click', settingsBackButton)
        play.addEventListener('click', playgame)


        function playgame()
        {
            title.style.display = 'none';
            play.style.display = 'none';
            settings_button.style.display = 'none';

            game.style.display = 'block';
        }


        // Check if the browser supports localStorage to save the clicks amount
        if (typeof(Storage) !== "undefined") {
        // Initialize your variable

        // Store the variable in local storage
           localStorage.setItem("clicks", String(clicks));

     // Retrieve the variable from local storage
           let savedClicks = Number(localStorage.getItem("clicks"));

        } else {
           console.log("Sorry, your browser does not support Web Storage...");
        }

    var correctPassword = "marco123"; // secret password

    function settingsClicked() {

        gear.style.transform = 'scale(1.4)'; //animation for the gear icon
        setTimeout(() => {
                gear.style.transform = "scale(1)";
        }, 100);

        settings_container.style.marginLeft = '100%'; // show the shop container
        settings_clicked = true;
        backButtonElement.style.display = 'block'; // Show the back button

    }

    // This function returns the cookie value for a given name
function getCookie(name) {
  // Get all cookies as a string
  var allCookies = document.cookie;
  
  // Split the cookies by semicolon
  var cookiesArray = allCookies.split(";");
  
  // Loop through the cookies array
  for (var i = 0; i < cookiesArray.length; i++) {
    // Trim the whitespace from the cookie
    var cookie = cookiesArray[i].trim();
    
    // Check if the cookie name matches the given name
    if (cookie.indexOf(name + "=") == 0) {
      // Get the cookie value by removing the name part
      var value = cookie.substring((name + "=").length, cookie.length);
      
      // Return the value
      return value;
    }
  }
  
  // Return an empty string if no cookie is found
  return "";
}

// Create a variable with the number of clicks

// Check if there is a cookie with the clicks value
var clicksCookie = getCookie("clicks");

// If the cookie is not empty, convert it to a number and assign it to clicks
if (clicksCookie != "") {
  clicks = Number(clicksCookie);
}

// This function sets a cookie with a given name, value, and expiry date
function setCookie(name, value, days) {
  // Create a date object for the expiry date
  var expiryDate = new Date();
  
  // Set the expiry date to the current date plus the given number of days
  expiryDate.setTime(expiryDate.getTime() + (days * 24 * 60 * 60 * 1000));
  
  // Convert the date to a UTC string
  var expires = "expires=" + expiryDate.toUTCString();
  
  // Set the cookie with the name, value, and expiry date
  document.cookie = name + "=" + value + "; " + expires + "; path=/";
}


    document.addEventListener("DOMContentLoaded", cookiesclicks);

    // Create a variable with the number of clicks
    function cookiesclicks() {
        // Set the cookie name and value
        document.cookie = "clicks=" + clicks;

    // Set the cookie expiry date (optional)
        var expiryDate = new Date();
        expiryDate.setTime(expiryDate.getTime() + (10*24*60*60*1000)); // 10 days from now
        document.cookie = "clicks=" + clicks + "; expires=" + expiryDate.toUTCString();

    // Set the cookie path (optional)
        document.cookie = "clicks=" + clicks + "; expires=" + expiryDate.toUTCString() + "; path=/";

    // Get all cookies
        var allCookies = document.cookie;

    // Split the cookies by semicolon
        var cookiesArray = allCookies.split(";");

    // Loop through the cookies array
        for (var i = 0; i < cookiesArray.length; i++) {
    // Trim the whitespace from the cookie
        var cookie = cookiesArray[i].trim();
  
    // Check if the cookie name is "clicks"
        if (cookie.indexOf("clicks=") == 0) {
        // Get the cookie value by removing the name part
                var clicksValue = cookie.substring("clicks=".length, cookie.length);
    
        // Convert the value to a number
                var clicksNumber = Number(clicksValue);
    
        // Display the value
                console.log("The number of clicks is " + clicksNumber);
            }
        }
    }


    if (autobuy == true)
    {
        if (clicks => 50)
        {
            buyBooster();
        }
        if (clicks => 500)
        {
            buyBooster2();
        }
        if (clicks => 5000)
        {
            buyMultiplier();
        }
    } 

    function settingsBackButton()
    {
        settings_container.style.marginLeft = '0%';
    }

    //document.addEventListener('click', function(e) {
    //    circle_click.style.color = 'red';                     WORKING IN PROGRESS
    //    circle_click.style.transform = "scale(1)";
    //    circle_click.style.left = e.pageX + -20 + 'px';
    //    circle_click.style.top = e.pageY + -25 + 'px';

    //    circle_click.style.color = "transparent";
    //    circle_click.style.transform = "scale(1.3)";
    //})

    function checkPassword() {

        var inputPassword = document.getElementById("pwd").value;

        if (inputPassword == correctPassword) {
            alert("Developer Options Enabled")
            clicks = 99999999;
        // Add the actions you want to perform here
        } else {
            alert('Acces Denied')
        } 
    }
        
        function handleinput(inputValue) {
          let num2 = Number(inputValue);
          Number(num2)
          clicks = clicks + num2;
        }

        function buyMultiplier() {
            multiplier_bought = multiplier_bought + 1;
            Multiplier_element.style.transform = "scale(1.2)";

            setTimeout(() => {
                Multiplier_element.style.transform = "scale(1)";
            }, 100);
            if (clicks >= 5000) {
                clicksElement.textContent = clicks;
                clicks_shop.textContent = clicks;
                clicks -= 5000; // Deduct the cost of the booster
                boosters += 1; // Increase the number of boosters
                clicksElement.textContent = clicks;
                multiplier_active_2x = true; // Update the displayed number of clicks
                messageElement.style.display = 'none'; // Hide the message
            } else {
             messageElement.style.display = 'block'; // Show the message
            }
        }

        document.addEventListener('mousemove', function(e) {
            arrow.style.left = e.pageX + 'px';
            arrow.style.top = e.pageY + 'px';
            arrow.style.display = 'block';
        });


        function buyBooster2() {
            boosterElement_2.style.transform = "scale(1.2)";

            // After 100ms, set it back to its original size
            setTimeout(() => {
                boosterElement_2.style.transform = "scale(1)";
            }, 100);
            if (clicks >= 500) {
                clicksElement.textContent = clicks;
                clicks_shop.textContent = clicks;
                clicks -= 500; // Deduct the cost of the booster
                boosters += 1; // Increase the number of boosters
                clicksElement.textContent = clicks; // Update the displayed number of clicks
                setInterval(clicked, 100); // Add a click every second
                messageElement.style.display = 'none'; // Hide the message
           } else {
              messageElement.style.display = 'block'; // Show the message
           }
        }
        function shopClicked() {
           if (shopContainerElement.style.right === '0%') {
               shopContainerElement.style.right = '-100%'; // Hide the shop container
               backButtonElement.style.display = 'none'; // Hide the back button
               messageElement.style.display = 'none';
               settings_containerElement.style.marginLeft = '0%';
                // Hide the message
           } else {
               shopContainerElement.style.right = '0%'; // Show the shop container
               backButtonElement.style.display = 'block'; // Show the back button
           }
        }

        function buyBooster() {
            boosterElement.style.transform = "scale(1.2)";

            // After 100ms, set it back to its original size
            //how can i save a variable so that when someone restarts the page like the like button remains like it was before like local browser save or something?

            setTimeout(() => {
                boosterElement.style.transform = "scale(1)";
            }, 100);
           if (clicks >= 50) {
                clicksElement.textContent = clicks;
                clicks_shop.textContent = clicks;
                clicks -= 50; // Deduct the cost of the booster
                boosters += 1; // Increase the number of boosters
                clicksElement.textContent = clicks; // Update the displayed number of clicks
                setInterval(clicked, 1000); // Add a click every second
                messageElement.style.display = 'none'; // Hide the message
           } else {
              messageElement.style.display = 'block'; // Show the message
           }
        }

        circleElement.addEventListener("click", clicked);

        function clicked() {
            if (multiplier_active_2x)
            {
                clicks = clicks + 1 + multiplier_bought;
                clicksElement.textContent = clicks;
                clicks_shop.textContent = clicks;

                this.style.transform = "scale(1.2)";

                setTimeout(() => {
                    this.style.transform = "scale(1)";
                }, 100);
            }
            clicks = clicks + 1;
            clicksElement.textContent = clicks;
            clicks_shop.textContent = clicks;

            // Increase the size of the circle
            this.style.transform = "scale(1.2)";

            // After 100ms, set it back to its original size
            setTimeout(() => {
                this.style.transform = "scale(1)";
            }, 100);
        }


    </script>
</body>
</html>
